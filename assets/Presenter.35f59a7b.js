import{o as v,c as _,a as i,r as g,u as R,b as k,d as s,e as E,f as A,i as H,g as j,w as F,h as B,j as I,n as y,t as P,F as D,k as O,v as U,l as S,m as q,_ as W,p as Y,q as Z,s as C,x as J,y as G,z as K,A as Q,B as X,C as m,D as T,E as ee,G as M,H as V,I as N,J as te,K as ae,L as oe,M as w,N as se,O as ne,P as ie,Q as re,R as z,S as le,T as ce,U as ue,V as de,W as pe,X as me,Y as ve,Z as fe,$ as _e,a0 as ge,a1 as he,a2 as xe}from"./index.4bf8b5d3.js";import ye from"./DrawingControls.065c41d5.js";const we={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},be=i("path",{fill:"currentColor",d:"M12 10H6.78A11 11 0 0 1 27 16h2A13 13 0 0 0 6 7.68V4H4v8h8zm8 12h5.22A11 11 0 0 1 5 16H3a13 13 0 0 0 23 8.32V28h2v-8h-8z"},null,-1),ke=[be];function $e(a,o){return v(),_("svg",we,ke)}var Se={name:"carbon-renew",render:$e};const Ce={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Te=i("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),Me=i("path",{fill:"currentColor",d:"M20.59 22L15 16.41V7h2v8.58l5 5.01L20.59 22z"},null,-1),Ve=[Te,Me];function Ne(a,o){return v(),_("svg",Ce,Ve)}var ze={name:"carbon-time",render:Ne},Ae="/federated-graphql-postnl/assets/logo-title-horizontal.96c3c915.png";function He(){const a=g(Date.now()),o=R({interval:1e3}),l=k(()=>{const n=(o.value-a.value)/1e3,c=Math.floor(n%60).toString().padStart(2,"0");return`${Math.floor(n/60).toString().padStart(2,"0")}:${c}`});function r(){a.value=o.value}return{timer:l,resetTimer:r}}function je(a){if(a==null)return{info:g(),update:async()=>{}};const o=`/@slidev/slide/${a}.json`,{data:l,execute:r}=E(o).json().get();return r(),{info:l,update:async c=>await fetch(o,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then(p=>p.json())}}const b={};function Be(a){function o(l){const r=`${l}`;return b[r]||(b[r]=je(l)),b[r]}return{info:k(()=>o(s(a)).info.value),update:async(l,r)=>{const n=o(r!=null?r:s(a)),c=await n.update(l);return c&&(n.info.value=c),c}}}const Pe=["innerHTML"],De=["textContent"],Le=["placeholder"],Re=A({__name:"NoteEditor",props:{class:{default:""},placeholder:{default:"No notes for this slide"}},setup(a){const o=a;H(j);const{info:l,update:r}=Be(S),n=g("");let c;const{ignoreUpdates:p}=F(n,t=>{const e=S.value;clearTimeout(c),c=setTimeout(()=>{r({raw:null,note:t},e)},500)});B(l,t=>{clearTimeout(c),p(()=>{n.value=(t==null?void 0:t.note)||""})},{immediate:!0,flush:"sync"});const f=g(),u=g(!1);async function h(t){var e,d,x;((e=t==null?void 0:t.target)==null?void 0:e.tagName)!=="A"&&(u.value=!0,(d=f.value)==null||d.focus(),await q(),(x=f.value)==null||x.focus())}return I(f,()=>{u.value=!1}),(t,e)=>{var d,x;return!u.value&&n.value?(v(),_(D,{key:0},[(d=s(l))!=null&&d.notesHTML?(v(),_("div",{key:0,class:y(["prose overflow-auto outline-none",o.class]),onClick:h,innerHTML:(x=s(l))==null?void 0:x.notesHTML},null,10,Pe)):(v(),_("div",{key:1,class:y(["prose overflow-auto outline-none",o.class]),onClick:h,textContent:P(n.value)},null,10,De))],64)):O((v(),_("textarea",{key:1,ref_key:"input",ref:f,"onUpdate:modelValue":e[0]||(e[0]=$=>n.value=$),class:y(["prose resize-none overflow-auto outline-none bg-transparent block",o.class]),placeholder:a.placeholder,onFocus:e[1]||(e[1]=$=>u.value=!0)},null,42,Le)),[[U,n.value]])}}});const L=a=>(ie("data-v-301ca596"),a=a(),re(),a),Ee={class:"bg-main h-full slidev-presenter"},Fe={class:"grid-container"},Ie={class:"grid-section top flex"},Oe=L(()=>i("img",{src:Ae,class:"h-14 ml-2 py-2 my-auto"},null,-1)),Ue=L(()=>i("div",{class:"flex-auto"},null,-1)),qe={class:"text-2xl pl-2 pr-6 my-auto"},We={class:"grid-section next flex flex-col p-4"},Ye={class:"grid-section note overflow-auto"},Ze={class:"grid-section bottom"},Je={class:"progress-bar"},Ge=A({__name:"Presenter",setup(a){H(j);const o=g();Y(),Z(o);const l=C.titleTemplate.replace("%s",C.title||"Slidev");J({title:`Presenter - ${l}`});const{timer:r,resetTimer:n}=He(),c=g([]),p=k(()=>z.value<le.value?{route:ce.value,clicks:z.value+1}:ue.value?{route:de.value,clicks:0}:null);return G(()=>{const f=o.value.querySelector("#slide-content"),u=K(Q()),h=X();B(()=>{if(!h.value||me.value||!ve.value)return;const t=f.getBoundingClientRect(),e=(u.x-t.left)/t.width*100,d=(u.y-t.top)/t.height*100;if(!(e<0||e>100||d<0||d>100))return{x:e,y:d}},t=>{pe.cursor=t})}),(f,u)=>{const h=ze,t=Se;return v(),_(D,null,[i("div",Ee,[i("div",Fe,[i("div",Ie,[Oe,Ue,i("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:u[0]||(u[0]=(...e)=>s(n)&&s(n)(...e))},[m(h,{class:"absolute"}),m(t,{class:"absolute opacity-0"})]),i("div",qe,P(s(r)),1)]),i("div",{ref_key:"main",ref:o,class:"grid-section main flex flex-col p-4",style:T(s(ee))},[m(V,{key:"main",class:"h-full w-full"},{default:M(()=>[m(fe)]),_:1})],4),i("div",We,[s(p)?(v(),N(V,{key:"next",class:"h-full w-full"},{default:M(()=>{var e;return[m(s(ge),{is:(e=s(p).route)==null?void 0:e.component,"clicks-elements":c.value,"onUpdate:clicks-elements":u[1]||(u[1]=d=>c.value=d),clicks:s(p).clicks,"clicks-disabled":!1,class:y(s(_e)(s(p).route)),route:s(p).route},null,8,["is","clicks-elements","clicks","class","route"])]}),_:1})):te("v-if",!0)]),i("div",Ye,[m(Re,{class:"w-full h-full p-4 overflow-auto"})]),i("div",Ze,[m(he,{persist:!0})]),(v(),N(ye,{key:0}))]),i("div",Je,[i("div",{class:"progress h-2px bg-primary transition-all",style:T({width:`${(s(ae)-1)/(s(oe)-1)*100}%`})},null,4)])]),m(xe),m(ne,{modelValue:s(w),"onUpdate:modelValue":u[2]||(u[2]=e=>se(w)?w.value=e:null)},null,8,["modelValue"])],64)}}});var Xe=W(Ge,[["__scopeId","data-v-301ca596"]]);export{Xe as default};
